app {
  actor-system = "cqrs-es-example"
}

elastic {
  protocol = "http"
  protocol = ${?ELASTIC_PROTOCOL}
  host = "127.0.0.1"
  host = ${?ELASTIC_HOST}
  port = 9200
  port = ${?ELASTIC_PORT}
}

cluster {

  host = "0.0.0.0"
  host = ${?CLUSTER_EVENT_HOST}
  port = 2552
  port = ${?CLUSTER_EVENT_PORT}

  seeds {
    cqrs-event="0.0.0.0:2552"
    cqrs-event=${?CLUSTER_SEED_EVENT_ADDRESS}
    cqrs-write="0.0.0.0:2562"
    cqrs-write=${?CLUSTER_SEED_WRITE_ADDRESS}
  }
}

akka {

  loglevel = "DEBUG"

  remote {
    netty.tcp {
      hostname = ${cluster.host}
      port = ${cluster.port}
    }
  }

  cluster {
    seed-nodes = [
      "akka.tcp://"${app.actor-system}"@"${cluster.seeds.cqrs-write},
      "akka.tcp://"${app.actor-system}"@"${cluster.seeds.cqrs-event}
    ]
    roles = [ "event-handler" ]
  }

  actor {

    debug {
      receive = on
    }

    provider = "akka.cluster.ClusterActorRefProvider"
  }
}

